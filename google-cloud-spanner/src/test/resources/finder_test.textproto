test_case {
  name: "AllRows"
  event {
    name: "AllRows/0"
    read {
      session: "instances/default/databases/db15/sessions/Cj3BBOeD1dP3S66wHZkO00_A5Jv6pRbjR4ox3cktXTOs5bpIgRwIx6bn_QihOEOGGUqEAKU3o9rP5qcqhem-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        all: true
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099527356417
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "AllRows/2"
    read {
      session: "instances/default/databases/db15/sessions/Cj3BBOeD1dP3S66wHZkO00_A5Jv6pRbjR4ox3cktXTOs5bpIgRwIx6bn_QihOEOGGUqEAKU3o9rP5qcqhem-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        all: true
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099527356417
      schema_generation: "\001\001"
      key: "A\206\310\002"
      limit_key: "A\206\310\003"
    }
  }
  event {
    cache_update {
      database_id: 1099527356417
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 155189249
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\364\207l"
      }
      group {
        group_uid: 155189249
        tablets {
          tablet_uid: 155189249
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\265"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "AllRows/4"
    read {
      session: "instances/default/databases/db15/sessions/Cj3BBOeD1dP3S66wHZkO00_A5Jv6pRbjR4ox3cktXTOs5bpIgRwIx6bn_QihOEOGGUqEAKU3o9rP5qcqhem-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        all: true
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099527356417
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 155189249
      split_id: 14079378335067013120
      tablet_uid: 155189249
    }
  }
  event {
    cache_update {
      database_id: 1099527356417
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 155189249
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\366E\014"
      }
      group {
        group_uid: 155189249
        tablets {
          tablet_uid: 155189249
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\265"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "AllRows/6"
    read {
      session: "instances/default/databases/db15/sessions/Cj3BBOeD1dP3S66wHZkO00_A5Jv6pRbjR4ox3cktXTOs5bpIgRwIx6bn_QihOEOGGUqEAKU3o9rP5qcqhem-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        all: true
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099527356417
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 155189249
      split_id: 14079378335067013120
      tablet_uid: 155189249
    }
  }
  event {
    cache_update {
      database_id: 1099527356417
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 155189249
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\366E\014"
      }
      group {
        group_uid: 155189249
        tablets {
          tablet_uid: 155189249
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\265"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t@\000\001"
      }
      key_recipes {
      }
    }
  }
}
test_case {
  name: "AllRows_Query"
  event {
    name: "AllRows_Query/0"
    sql {
      session: "instances/default/databases/db32/sessions/Cj0GojmEGR2hztX-uM5PHIWlsxPJCNXlqv0WGEwJaEEpQqxxDMvCPcsOzBlvYwUvgBO4B612WcYmbOzYYH8WEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T"
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099546230785
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 2
          }
        }
      }
    }
  }
  event {
    name: "AllRows_Query/2"
    sql {
      session: "instances/default/databases/db32/sessions/Cj0GojmEGR2hztX-uM5PHIWlsxPJCNXlqv0WGEwJaEEpQqxxDMvCPcsOzBlvYwUvgBO4B612WcYmbOzYYH8WEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T"
    }
    hint {
      operation_uid: 1
      database_id: 1099546230785
      schema_generation: "\001\001"
      key: "A\206\310\004"
    }
  }
  event {
    cache_update {
      database_id: 1099546230785
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 277872641
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\250#\026"
      }
      group {
        group_uid: 277872641
        tablets {
          tablet_uid: 277872641
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001\177"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020\220\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "AllRows_Query/4"
    sql {
      session: "instances/default/databases/db32/sessions/Cj0GojmEGR2hztX-uM5PHIWlsxPJCNXlqv0WGEwJaEEpQqxxDMvCPcsOzBlvYwUvgBO4B612WcYmbOzYYH8WEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T"
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099546230785
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 277872641
      split_id: 14079378335067013120
      tablet_uid: 277872641
    }
  }
  event {
    cache_update {
      database_id: 1099546230785
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 277872641
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\257X\261"
      }
      group {
        group_uid: 277872641
        tablets {
          tablet_uid: 277872641
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001\177"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020\220\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "AllRows_Query/6"
    sql {
      session: "instances/default/databases/db32/sessions/Cj0GojmEGR2hztX-uM5PHIWlsxPJCNXlqv0WGEwJaEEpQqxxDMvCPcsOzBlvYwUvgBO4B612WcYmbOzYYH8WEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T"
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099546230785
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 277872641
      split_id: 14079378335067013120
      tablet_uid: 277872641
    }
  }
}
test_case {
  name: "DropDatabase"
  event {
    name: "DropDatabase/0"
    read {
      session: "instances/default/databases/db7/sessions/Cj0YdZkOhi1oPNIoTSIFvWggN4HPXnkgZ4pK1NcGXTEeUw8Fr-dTnvFKAeldTUxyzt1zTToerCe3T6XkSgAJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099517919233
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "DropDatabase/2"
    read {
      session: "instances/default/databases/db7/sessions/Cj0YdZkOhi1oPNIoTSIFvWggN4HPXnkgZ4pK1NcGXTEeUw8Fr-dTnvFKAeldTUxyzt1zTToerCe3T6XkSgAJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099517919233
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099517919233
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 95420417
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\314\260\211\000"
      }
      group {
        group_uid: 95420417
        tablets {
          tablet_uid: 95420417
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001r"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005\260\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropDatabase/4"
    read {
      session: "instances/default/databases/db7/sessions/Cj0YdZkOhi1oPNIoTSIFvWggN4HPXnkgZ4pK1NcGXTEeUw8Fr-dTnvFKAeldTUxyzt1zTToerCe3T6XkSgAJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099517919233
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 95420417
      split_id: 14079378335067013120
      tablet_uid: 95420417
    }
  }
  event {
    cache_update {
      database_id: 1099517919233
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 95420417
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\314\267\020%"
      }
      group {
        group_uid: 95420417
        tablets {
          tablet_uid: 95420417
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001r"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005\260\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropDatabase/6"
    read {
      session: "instances/default/databases/db7/sessions/Cj0YdZkOhi1oPNIoTSIFvWggN4HPXnkgZ4pK1NcGXTEeUw8Fr-dTnvFKAeldTUxyzt1zTToerCe3T6XkSgAJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099517919233
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 95420417
      split_id: 14079378335067013120
      tablet_uid: 95420417
    }
  }
  event {
    name: "DropDatabase/7"
    read {
      session: "instances/default/databases/db7/sessions/Cj0YdZkOhi1oPNIoTSIFvWggN4HPXnkgZ4pK1NcGXTEeUw8Fr-dTnvFKAeldTUxyzt1zTToerCe3T6XkSgAJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099517919233
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 95420417
      split_id: 14079378335067013120
      tablet_uid: 95420417
    }
  }
  event {
    name: "DropDatabase/8"
    read {
      session: "instances/default/databases/db7/sessions/Cj3TKzdKJxZRjiCmu4-t34VAf6hJX0jtVFwD_4r02LGDLemFeajxEvbL5uJRGI6n2tkzh90z28eBtGG4VMcoEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099517919233
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 95420417
      split_id: 14079378335067013120
      tablet_uid: 95420417
    }
  }
  event {
    cache_update {
      database_id: 1099518967809
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 101711873
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\316\230\264\322"
      }
      group {
        group_uid: 101711873
        tablets {
          tablet_uid: 101711873
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\201"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006\020\000\001"
      }
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "DropDatabase/10"
    read {
      session: "instances/default/databases/db7/sessions/Cj3TKzdKJxZRjiCmu4-t34VAf6hJX0jtVFwD_4r02LGDLemFeajxEvbL5uJRGI6n2tkzh90z28eBtGG4VMcoEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099518967809
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 101711873
      split_id: 14079378335067013120
      tablet_uid: 101711873
    }
  }
}
test_case {
  name: "DropDatabase_Query"
  event {
    name: "DropDatabase_Query/0"
    sql {
      session: "instances/default/databases/db24/sessions/CjzqkvN0XqNJI9149yzUSwfsCokOLsnhmDF8xt_O6U8cnWNvs1yXG4IZ_F3eDa-dooydAR1kFmsJuKR2MSQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099536793601
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "DropDatabase_Query/2"
    sql {
      session: "instances/default/databases/db24/sessions/CjzqkvN0XqNJI9149yzUSwfsCokOLsnhmDF8xt_O6U8cnWNvs1yXG4IZ_F3eDa-dooydAR1kFmsJuKR2MSQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099536793601
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099536793601
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 218103809
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\323T\204\035"
      }
      group {
        group_uid: 218103809
        tablets {
          tablet_uid: 218103809
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001<"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\r\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropDatabase_Query/4"
    sql {
      session: "instances/default/databases/db24/sessions/CjzqkvN0XqNJI9149yzUSwfsCokOLsnhmDF8xt_O6U8cnWNvs1yXG4IZ_F3eDa-dooydAR1kFmsJuKR2MSQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099536793601
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 218103809
      split_id: 14079378335067013120
      tablet_uid: 218103809
    }
  }
  event {
    cache_update {
      database_id: 1099536793601
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 218103809
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\323T\204\035"
      }
      group {
        group_uid: 218103809
        tablets {
          tablet_uid: 218103809
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001<"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\r\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropDatabase_Query/6"
    sql {
      session: "instances/default/databases/db24/sessions/CjzqkvN0XqNJI9149yzUSwfsCokOLsnhmDF8xt_O6U8cnWNvs1yXG4IZ_F3eDa-dooydAR1kFmsJuKR2MSQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099536793601
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 218103809
      split_id: 14079378335067013120
      tablet_uid: 218103809
    }
  }
  event {
    name: "DropDatabase_Query/7"
    sql {
      session: "instances/default/databases/db24/sessions/CjzqkvN0XqNJI9149yzUSwfsCokOLsnhmDF8xt_O6U8cnWNvs1yXG4IZ_F3eDa-dooydAR1kFmsJuKR2MSQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099536793601
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 218103809
      split_id: 14079378335067013120
      tablet_uid: 218103809
    }
  }
  event {
    name: "DropDatabase_Query/8"
    sql {
      session: "instances/default/databases/db24/sessions/Cj1CH8Frp6VtAXaqx0Y5Fzu4KF_6PgC0lDACO5O72-XqeiRXqDXIKo2L7jDSwWFe-x0k3b7v-OtJeJ2t-j5CEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099536793601
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 218103809
      split_id: 14079378335067013120
      tablet_uid: 218103809
    }
  }
  event {
    cache_update {
      database_id: 1099537842177
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 224395265
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\3258X\350"
      }
      group {
        group_uid: 224395265
        tablets {
          tablet_uid: 224395265
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001K"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\r`\000\001"
      }
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "DropDatabase_Query/10"
    sql {
      session: "instances/default/databases/db24/sessions/Cj1CH8Frp6VtAXaqx0Y5Fzu4KF_6PgC0lDACO5O72-XqeiRXqDXIKo2L7jDSwWFe-x0k3b7v-OtJeJ2t-j5CEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 2
      database_id: 1099537842177
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099537842177
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 2
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "DropDatabase_Query/12"
    sql {
      session: "instances/default/databases/db24/sessions/Cj1CH8Frp6VtAXaqx0Y5Fzu4KF_6PgC0lDACO5O72-XqeiRXqDXIKo2L7jDSwWFe-x0k3b7v-OtJeJ2t-j5CEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099537842177
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 224395265
      split_id: 14079378335067013120
      tablet_uid: 224395265
    }
  }
}
test_case {
  name: "DropTable"
  event {
    name: "DropTable/0"
    read {
      session: "instances/default/databases/db6/sessions/Cjzdj2emR5Db0EijIRbqxYXobPqHRRjWoXCeGyYAUU45Q8eaxOgVRwqLfrWMjgE7RsVjd1MExsPuARm0k1QQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099516870657
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "DropTable/2"
    read {
      session: "instances/default/databases/db6/sessions/Cjzdj2emR5Db0EijIRbqxYXobPqHRRjWoXCeGyYAUU45Q8eaxOgVRwqLfrWMjgE7RsVjd1MExsPuARm0k1QQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099516870657
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099516870657
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 94371841
        split_id: 14079378335067013121
        generation: "\007\006C\314\314-\203[\007\006C\314\314-\217F"
      }
      group {
        group_uid: 94371841
        tablets {
          tablet_uid: 94371841
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001p"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropTable/4"
    read {
      session: "instances/default/databases/db6/sessions/Cjzdj2emR5Db0EijIRbqxYXobPqHRRjWoXCeGyYAUU45Q8eaxOgVRwqLfrWMjgE7RsVjd1MExsPuARm0k1QQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099516870657
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 94371841
      split_id: 14079378335067013121
      tablet_uid: 94371841
    }
  }
  event {
    name: "DropTable/5"
    read {
      session: "instances/default/databases/db6/sessions/Cjzdj2emR5Db0EijIRbqxYXobPqHRRjWoXCeGyYAUU45Q8eaxOgVRwqLfrWMjgE7RsVjd1MExsPuARm0k1QQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099516870657
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 94371841
      split_id: 14079378335067013121
      tablet_uid: 94371841
    }
  }
  event {
    name: "DropTable/6"
    read {
      session: "instances/default/databases/db6/sessions/Cjzdj2emR5Db0EijIRbqxYXobPqHRRjWoXCeGyYAUU45Q8eaxOgVRwqLfrWMjgE7RsVjd1MExsPuARm0k1QQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099516870657
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 94371841
      split_id: 14079378335067013121
      tablet_uid: 94371841
    }
  }
}
test_case {
  name: "DropTable_Query"
  event {
    name: "DropTable_Query/0"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099535745025
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "DropTable_Query/2"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099535745025
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 216006657
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\316\342\373\007\006C\314\322\317\n\241"
      }
      group {
        group_uid: 216006657
        tablets {
          tablet_uid: 216006657
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001:"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014\340\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropTable_Query/4"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 216006657
      split_id: 14079378335067013121
      tablet_uid: 216006657
    }
  }
  event {
    cache_update {
      database_id: 1099535745025
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 216006657
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\316\342\373\007\006C\314\322\323Z\315"
      }
      group {
        group_uid: 216006657
        tablets {
          tablet_uid: 216006657
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001:"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014\340\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropTable_Query/6"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 216006657
      split_id: 14079378335067013121
      tablet_uid: 216006657
    }
  }
  event {
    name: "DropTable_Query/7"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 216006657
      split_id: 14079378335067013121
      tablet_uid: 216006657
    }
  }
  event {
    name: "DropTable_Query/8"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 216006657
      split_id: 14079378335067013121
      tablet_uid: 216006657
    }
  }
  event {
    cache_update {
      database_id: 1099535745025
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 216006657
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\316\342\373\007\006C\314\322\323Z\315"
      }
      group {
        group_uid: 216006657
        tablets {
          tablet_uid: 216006657
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001:"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014\340\000\001"
      }
      key_recipes {
        schema_generation: "\001\003"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 3
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: INT64
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "DropTable_Query/10"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\003"
      key: "A\206\310\006\234\221\000"
    }
  }
  event {
    cache_update {
      database_id: 1099535745025
      range {
        start_key: "A\206\310\002\234\2315\000x"
        limit_key: "A\206\311"
        group_uid: 217055233
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\316\342\373\007\006C\314\322\317\n\241"
      }
      group {
        group_uid: 217055233
        tablets {
          tablet_uid: 217055233
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001;"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014\360\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "DropTable_Query/12"
    sql {
      session: "instances/default/databases/db23/sessions/CjwOqvrExRJDRJJdVo2gAssby75h0g7V10Y5ZxDHqv0YeWUWDGwTfharjGH6t73iqG5m4GXUfjpkqQRVPxsQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099535745025
      schema_generation: "\001\003"
      key: "A\206\310\002\234\2315\000x"
      limit_key: "A\206\311"
      group_uid: 217055233
      split_id: 14079378335067013121
      tablet_uid: 217055233
    }
  }
}
test_case {
  name: "GlobalIndex"
  event {
    name: "GlobalIndex/0"
    read {
      session: "instances/default/databases/db10/sessions/Cj2SfZKLzB4nnXuwwI1VKvjUXXTrygu1niE6w4W-OXraTsmoOUubuN4wizbc455aTUR5zoNDXT1KipdeF64TEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099522113537
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          index_name: "GlobalIndex"
          part {
            tag: 50020
          }
          part {
            tag: 2
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "V0"
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "GlobalIndex/2"
    read {
      session: "instances/default/databases/db10/sessions/Cj2SfZKLzB4nnXuwwI1VKvjUXXTrygu1niE6w4W-OXraTsmoOUubuN4wizbc455aTUR5zoNDXT1KipdeF64TEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099522113537
      schema_generation: "\001\001"
      key: "A\206\310\004\234\2310_0\000x"
      limit_key: "A\206\310\004\234\2310_0\000y"
    }
  }
  event {
    cache_update {
      database_id: 1099522113537
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 121634817
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317<\276\306"
      }
      group {
        group_uid: 121634817
        tablets {
          tablet_uid: 121634817
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\223"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\007@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GlobalIndex/4"
    read {
      session: "instances/default/databases/db10/sessions/Cj2SfZKLzB4nnXuwwI1VKvjUXXTrygu1niE6w4W-OXraTsmoOUubuN4wizbc455aTUR5zoNDXT1KipdeF64TEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099522113537
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 121634817
      split_id: 14079378335067013120
      tablet_uid: 121634817
    }
  }
  event {
    cache_update {
      database_id: 1099522113537
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 121634817
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317>\330]"
      }
      group {
        group_uid: 121634817
        tablets {
          tablet_uid: 121634817
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\223"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\007@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GlobalIndex/6"
    read {
      session: "instances/default/databases/db10/sessions/Cj2SfZKLzB4nnXuwwI1VKvjUXXTrygu1niE6w4W-OXraTsmoOUubuN4wizbc455aTUR5zoNDXT1KipdeF64TEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099522113537
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 121634817
      split_id: 14079378335067013120
      tablet_uid: 121634817
    }
  }
}
test_case {
  name: "GlobalIndex_Query"
  event {
    name: "GlobalIndex_Query/0"
    sql {
      session: "instances/default/databases/db27/sessions/Cj2j_zqkXN2mCtkbuUA7him868HfGm0ISHxO8OVhF7BawzQduQQE91KOAhYjolCxMK25z5Pkkss_6mBFsl6EEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = @v0"
      params {
        fields {
          key: "v0"
          value {
            string_value: "0_0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099540987905
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 2
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "v0"
          }
        }
      }
    }
  }
  event {
    name: "GlobalIndex_Query/2"
    sql {
      session: "instances/default/databases/db27/sessions/Cj2j_zqkXN2mCtkbuUA7him868HfGm0ISHxO8OVhF7BawzQduQQE91KOAhYjolCxMK25z5Pkkss_6mBFsl6EEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = @v0"
      params {
        fields {
          key: "v0"
          value {
            string_value: "0_0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099540987905
      schema_generation: "\001\001"
      key: "A\206\310\004\234\2310_0\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099540987905
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 244318209
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325\373\036\334"
      }
      group {
        group_uid: 244318209
        tablets {
          tablet_uid: 244318209
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001_"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\016\220\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GlobalIndex_Query/4"
    sql {
      session: "instances/default/databases/db27/sessions/Cj2j_zqkXN2mCtkbuUA7him868HfGm0ISHxO8OVhF7BawzQduQQE91KOAhYjolCxMK25z5Pkkss_6mBFsl6EEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = @v0"
      params {
        fields {
          key: "v0"
          value {
            string_value: "0_0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099540987905
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 244318209
      split_id: 14079378335067013120
      tablet_uid: 244318209
    }
  }
  event {
    cache_update {
      database_id: 1099540987905
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 244318209
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325\375\"\r"
      }
      group {
        group_uid: 244318209
        tablets {
          tablet_uid: 244318209
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001_"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\016\220\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GlobalIndex_Query/6"
    sql {
      session: "instances/default/databases/db27/sessions/Cj2j_zqkXN2mCtkbuUA7him868HfGm0ISHxO8OVhF7BawzQduQQE91KOAhYjolCxMK25z5Pkkss_6mBFsl6EEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = @v0"
      params {
        fields {
          key: "v0"
          value {
            string_value: "0_0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099540987905
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 244318209
      split_id: 14079378335067013120
      tablet_uid: 244318209
    }
  }
}
test_case {
  name: "GroupDeletion"
  event {
    name: "GroupDeletion/0"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099520016385
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "GroupDeletion/2"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099520016385
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099520016385
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 108003329
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\316\247-E"
      }
      group {
        group_uid: 108003329
        tablets {
          tablet_uid: 108003329
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\204"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion/4"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099520016385
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 108003329
      split_id: 14079378335067013120
      tablet_uid: 108003329
    }
  }
  event {
    cache_update {
      database_id: 1099520016385
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 108003329
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\316\250\241\234"
      }
      group {
        group_uid: 108003329
        tablets {
          tablet_uid: 108003329
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\204"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion/6"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099520016385
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 108003329
      split_id: 14079378335067013120
      tablet_uid: 108003329
    }
  }
  event {
    name: "GroupDeletion/7"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099520016385
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 108003329
      split_id: 14079378335067013120
      tablet_uid: 108003329
    }
  }
  event {
    cache_update {
      database_id: 1099520016385
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 114294785
        split_id: 14079378335067013124
        generation: "\007\006C\314\316\271~\231\007\006C\314\317\017\371\343"
      }
      group {
        group_uid: 114294785
        tablets {
          tablet_uid: 114294785
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\212"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006\320\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion/9"
    read {
      session: "instances/default/databases/db8/sessions/Cj2YTJ4-liCil_CTp2ldntWNe-Q1moGC2WmQds4wCmJl2G_XJKUi8wMd616zuX9h7ru-dDid2i4ez_62VO_FEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099520016385
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 114294785
      split_id: 14079378335067013124
      tablet_uid: 114294785
    }
  }
}
test_case {
  name: "GroupDeletion_Query"
  event {
    name: "GroupDeletion_Query/0"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099538890753
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "GroupDeletion_Query/2"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099538890753
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099538890753
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 230686721
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325I\301\354"
      }
      group {
        group_uid: 230686721
        tablets {
          tablet_uid: 230686721
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001S"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\r\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion_Query/4"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099538890753
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 230686721
      split_id: 14079378335067013120
      tablet_uid: 230686721
    }
  }
  event {
    cache_update {
      database_id: 1099538890753
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 230686721
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325L\365\363"
      }
      group {
        group_uid: 230686721
        tablets {
          tablet_uid: 230686721
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001S"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\r\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion_Query/6"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099538890753
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 230686721
      split_id: 14079378335067013120
      tablet_uid: 230686721
    }
  }
  event {
    name: "GroupDeletion_Query/7"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099538890753
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 230686721
      split_id: 14079378335067013120
      tablet_uid: 230686721
    }
  }
  event {
    cache_update {
      database_id: 1099538890753
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 236978177
        split_id: 14079378335067013124
        generation: "\007\006C\314\325]\371r\007\006C\314\325\264y\234"
      }
      group {
        group_uid: 236978177
        tablets {
          tablet_uid: 236978177
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001V"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\016 \000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "GroupDeletion_Query/9"
    sql {
      session: "instances/default/databases/db25/sessions/CjzwZvNAsqeeS_4WyWSRcOTXyaGjdp8zV4mkj3qDu34yD2oxUb_znww6xxRwktfRVvNjgx_H0XP2um8W4WUQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099538890753
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 236978177
      split_id: 14079378335067013124
      tablet_uid: 236978177
    }
  }
}
test_case {
  name: "Interleaved"
  event {
    name: "Interleaved/0"
    read {
      session: "instances/default/databases/db9/sessions/Cj159oUqLBjvyJBqNYV0pPwVz-a8ZuI6RNL-8C27MFNJ3faQKqSyzmgAttt98quBLgzWI-Z7RZAVzB2-RLz1EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099521064961
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "Interleaved"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
          part {
            tag: 5
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: INT64
            }
            identifier: "Key2"
          }
        }
      }
    }
  }
  event {
    name: "Interleaved/2"
    read {
      session: "instances/default/databases/db9/sessions/Cj159oUqLBjvyJBqNYV0pPwVz-a8ZuI6RNL-8C27MFNJ3faQKqSyzmgAttt98quBLgzWI-Z7RZAVzB2-RLz1EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099521064961
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x\n\234\221\002"
    }
  }
  event {
    cache_update {
      database_id: 1099521064961
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 115343361
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\"1\357"
      }
      group {
        group_uid: 115343361
        tablets {
          tablet_uid: 115343361
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\213"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006\340\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Interleaved/4"
    read {
      session: "instances/default/databases/db9/sessions/Cj159oUqLBjvyJBqNYV0pPwVz-a8ZuI6RNL-8C27MFNJ3faQKqSyzmgAttt98quBLgzWI-Z7RZAVzB2-RLz1EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099521064961
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 115343361
      split_id: 14079378335067013120
      tablet_uid: 115343361
    }
  }
  event {
    cache_update {
      database_id: 1099521064961
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 115343361
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317$\325\264"
      }
      group {
        group_uid: 115343361
        tablets {
          tablet_uid: 115343361
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\213"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\006\340\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Interleaved/6"
    read {
      session: "instances/default/databases/db9/sessions/Cj159oUqLBjvyJBqNYV0pPwVz-a8ZuI6RNL-8C27MFNJ3faQKqSyzmgAttt98quBLgzWI-Z7RZAVzB2-RLz1EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099521064961
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 115343361
      split_id: 14079378335067013120
      tablet_uid: 115343361
    }
  }
}
test_case {
  name: "Interleaved_Query"
  event {
    name: "Interleaved_Query/0"
    sql {
      session: "instances/default/databases/db26/sessions/CjwmKo7LqIFOF3-EZMw7pN1t5FHbWltIzxNurAxOo4YsPhpFVXTxgna7VKVy7lRt0OLwuunlyBtMuQwEtrkQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = @k AND Key2 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "1"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099539939329
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "k"
          }
        }
      }
    }
  }
  event {
    name: "Interleaved_Query/2"
    sql {
      session: "instances/default/databases/db26/sessions/CjwmKo7LqIFOF3-EZMw7pN1t5FHbWltIzxNurAxOo4YsPhpFVXTxgna7VKVy7lRt0OLwuunlyBtMuQwEtrkQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = @k AND Key2 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "1"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099539939329
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099539939329
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 238026753
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325\326%\352"
      }
      group {
        group_uid: 238026753
        tablets {
          tablet_uid: 238026753
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001X"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\0160\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Interleaved_Query/4"
    sql {
      session: "instances/default/databases/db26/sessions/CjwmKo7LqIFOF3-EZMw7pN1t5FHbWltIzxNurAxOo4YsPhpFVXTxgna7VKVy7lRt0OLwuunlyBtMuQwEtrkQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = @k AND Key2 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "1"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099539939329
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 238026753
      split_id: 14079378335067013120
      tablet_uid: 238026753
    }
  }
  event {
    cache_update {
      database_id: 1099539939329
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 238026753
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\325\335\2640"
      }
      group {
        group_uid: 238026753
        tablets {
          tablet_uid: 238026753
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001X"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\0160\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Interleaved_Query/6"
    sql {
      session: "instances/default/databases/db26/sessions/CjwmKo7LqIFOF3-EZMw7pN1t5FHbWltIzxNurAxOo4YsPhpFVXTxgna7VKVy7lRt0OLwuunlyBtMuQwEtrkQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = @k AND Key2 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "1"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099539939329
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 238026753
      split_id: 14079378335067013120
      tablet_uid: 238026753
    }
  }
}
test_case {
  name: "LocalIndex"
  event {
    name: "LocalIndex/0"
    read {
      session: "instances/default/databases/db11/sessions/Cj3NnaSUOiCKsnC8U3zeivYI8gzlBVS8qGYPTllITW3XwUhaR_wRK0U54FmFFaV3e3_aq2SgWEvGuKldsQaUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      index: "LocalIndex"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "0_1_4"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099523162113
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          index_name: "LocalIndex"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
          part {
            tag: 6
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "V4"
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: INT64
            }
            identifier: "Key2"
          }
        }
      }
    }
  }
  event {
    name: "LocalIndex/2"
    read {
      session: "instances/default/databases/db11/sessions/Cj3NnaSUOiCKsnC8U3zeivYI8gzlBVS8qGYPTllITW3XwUhaR_wRK0U54FmFFaV3e3_aq2SgWEvGuKldsQaUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      index: "LocalIndex"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "0_1_4"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099523162113
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x\014\234\2310_1_4\000x"
      limit_key: "A\206\310\002\234\2310\000x\014\234\2310_1_4\000y"
    }
  }
  event {
    cache_update {
      database_id: 1099523162113
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 127926273
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317Q\246\337"
      }
      group {
        group_uid: 127926273
        tablets {
          tablet_uid: 127926273
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\230"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\007\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "LocalIndex/4"
    read {
      session: "instances/default/databases/db11/sessions/Cj3NnaSUOiCKsnC8U3zeivYI8gzlBVS8qGYPTllITW3XwUhaR_wRK0U54FmFFaV3e3_aq2SgWEvGuKldsQaUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      index: "LocalIndex"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "0_1_4"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099523162113
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 127926273
      split_id: 14079378335067013120
      tablet_uid: 127926273
    }
  }
  event {
    cache_update {
      database_id: 1099523162113
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 127926273
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317W\220p"
      }
      group {
        group_uid: 127926273
        tablets {
          tablet_uid: 127926273
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\230"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\007\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "LocalIndex/6"
    read {
      session: "instances/default/databases/db11/sessions/Cj3NnaSUOiCKsnC8U3zeivYI8gzlBVS8qGYPTllITW3XwUhaR_wRK0U54FmFFaV3e3_aq2SgWEvGuKldsQaUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      index: "LocalIndex"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "0_1_4"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099523162113
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 127926273
      split_id: 14079378335067013120
      tablet_uid: 127926273
    }
  }
}
test_case {
  name: "LocalIndex_Query"
  event {
    name: "LocalIndex_Query/0"
    sql {
      session: "instances/default/databases/db28/sessions/CjzP21cJKRNtIN_GWjr6wiMTSt8dYLIfFJy3h4u1li9PDKDHfIZN3YU1zJMe5FZ7DlnXumM88ezT_abQ4cIQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved@{FORCE_INDEX=LocalIndex} WHERE Key = @k AND V4 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "0_1_4"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099542036481
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "k"
          }
        }
      }
    }
  }
  event {
    name: "LocalIndex_Query/2"
    sql {
      session: "instances/default/databases/db28/sessions/CjzP21cJKRNtIN_GWjr6wiMTSt8dYLIfFJy3h4u1li9PDKDHfIZN3YU1zJMe5FZ7DlnXumM88ezT_abQ4cIQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved@{FORCE_INDEX=LocalIndex} WHERE Key = @k AND V4 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "0_1_4"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099542036481
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099542036481
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 250609665
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\020^\316"
      }
      group {
        group_uid: 250609665
        tablets {
          tablet_uid: 250609665
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001d"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\016\360\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "LocalIndex_Query/4"
    sql {
      session: "instances/default/databases/db28/sessions/CjzP21cJKRNtIN_GWjr6wiMTSt8dYLIfFJy3h4u1li9PDKDHfIZN3YU1zJMe5FZ7DlnXumM88ezT_abQ4cIQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved@{FORCE_INDEX=LocalIndex} WHERE Key = @k AND V4 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "0_1_4"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099542036481
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 250609665
      split_id: 14079378335067013120
      tablet_uid: 250609665
    }
  }
  event {
    cache_update {
      database_id: 1099542036481
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 250609665
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\022\344\366"
      }
      group {
        group_uid: 250609665
        tablets {
          tablet_uid: 250609665
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001d"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\016\360\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "LocalIndex_Query/6"
    sql {
      session: "instances/default/databases/db28/sessions/CjzP21cJKRNtIN_GWjr6wiMTSt8dYLIfFJy3h4u1li9PDKDHfIZN3YU1zJMe5FZ7DlnXumM88ezT_abQ4cIQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved@{FORCE_INDEX=LocalIndex} WHERE Key = @k AND V4 = @k2"
      params {
        fields {
          key: "k"
          value {
            string_value: "0"
          }
        }
        fields {
          key: "k2"
          value {
            string_value: "0_1_4"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099542036481
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 250609665
      split_id: 14079378335067013120
      tablet_uid: 250609665
    }
  }
}
test_case {
  name: "Merge"
  event {
    name: "Merge/0"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099515822081
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "Merge/2"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099515822081
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 78643201
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\313\356\324\233"
      }
      group {
        group_uid: 78643201
        tablets {
          tablet_uid: 78643201
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001b"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\004\260\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge/4"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 78643201
      split_id: 14079378335067013120
      tablet_uid: 78643201
    }
  }
  event {
    name: "Merge/5"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 78643201
      split_id: 14079378335067013120
      tablet_uid: 78643201
    }
  }
  event {
    cache_update {
      database_id: 1099515822081
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 85983233
        split_id: 14079378335067013121
        generation: "\007\006C\314\313\377\336@\007\006C\314\313\377\360\270"
      }
      range {
        start_key: "A\206\310\002\234\2315\000x"
        limit_key: "A\206\311"
        group_uid: 84934657
        split_id: 14079378335067013121
        generation: "\007\006C\314\313\377\336@\007\006C\314\313\377\360\270"
      }
      group {
        group_uid: 85983233
        tablets {
          tablet_uid: 85983233
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001i"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005 \000\001"
      }
      group {
        group_uid: 84934657
        tablets {
          tablet_uid: 84934657
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001h"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005\020\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge/7"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 85983233
      split_id: 14079378335067013121
      tablet_uid: 85983233
    }
  }
  event {
    name: "Merge/8"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2315\000x"
      limit_key: "A\206\311"
      group_uid: 84934657
      split_id: 14079378335067013121
      tablet_uid: 84934657
    }
  }
  event {
    name: "Merge/9"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 85983233
      split_id: 14079378335067013121
      tablet_uid: 85983233
    }
  }
  event {
    cache_update {
      database_id: 1099515822081
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 85983233
        split_id: 14079378335067013123
        generation: "\007\006C\314\314\003\324\213\007\006C\314\314\003\334\212"
      }
      group {
        group_uid: 85983233
        tablets {
          tablet_uid: 85983233
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001i"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\005 \000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge/11"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 85983233
      split_id: 14079378335067013123
      tablet_uid: 85983233
    }
  }
  event {
    name: "Merge/12"
    read {
      session: "instances/default/databases/db5/sessions/Cjz7xOXhdnzM3xT1oBtjGhhBHXBGsxj63sYo7p6OcsysOczYU7KkRu_Uv63jH_R97AUzW8qTn9BgpgC5ncMQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099515822081
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 85983233
      split_id: 14079378335067013123
      tablet_uid: 85983233
    }
  }
}
test_case {
  name: "Merge_Query"
  event {
    name: "Merge_Query/0"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099534696449
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "Merge_Query/2"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099534696449
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 201326593
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\3229\235\n"
      }
      group {
        group_uid: 201326593
        tablets {
          tablet_uid: 201326593
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001,"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge_Query/4"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 201326593
      split_id: 14079378335067013120
      tablet_uid: 201326593
    }
  }
  event {
    name: "Merge_Query/5"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 201326593
      split_id: 14079378335067013120
      tablet_uid: 201326593
    }
  }
  event {
    cache_update {
      database_id: 1099534696449
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2315\000x"
        group_uid: 207618049
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\234*\275\007\006C\314\322\2345\351"
      }
      range {
        start_key: "A\206\310\002\234\2315\000x"
        limit_key: "A\206\311"
        group_uid: 208666625
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\234*\275\007\006C\314\322\2345\351"
      }
      group {
        group_uid: 207618049
        tablets {
          tablet_uid: 207618049
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\0012"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014`\000\001"
      }
      group {
        group_uid: 208666625
        tablets {
          tablet_uid: 208666625
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\0013"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge_Query/7"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 207618049
      split_id: 14079378335067013121
      tablet_uid: 207618049
    }
  }
  event {
    name: "Merge_Query/8"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2315\000x"
      limit_key: "A\206\311"
      group_uid: 208666625
      split_id: 14079378335067013121
      tablet_uid: 208666625
    }
  }
  event {
    cache_update {
      database_id: 1099534696449
      range {
        start_key: "A\206\310\002\234\2315\000x"
        limit_key: "A\206\311"
        group_uid: 208666625
        split_id: 14079378335067013121
        generation: "\007\006C\314\322\234*\275\007\006C\314\322\235\007\356"
      }
      group {
        group_uid: 208666625
        tablets {
          tablet_uid: 208666625
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\0013"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge_Query/10"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2315\000x"
      limit_key: "A\206\311"
      group_uid: 208666625
      split_id: 14079378335067013121
      tablet_uid: 208666625
    }
  }
  event {
    name: "Merge_Query/11"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2315\000x"
      group_uid: 207618049
      split_id: 14079378335067013121
      tablet_uid: 207618049
    }
  }
  event {
    cache_update {
      database_id: 1099534696449
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 207618049
        split_id: 14079378335067013123
        generation: "\007\006C\314\322\2435a\007\006C\314\322\243C\004"
      }
      group {
        group_uid: 207618049
        tablets {
          tablet_uid: 207618049
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\0012"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\014`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Merge_Query/13"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 207618049
      split_id: 14079378335067013123
      tablet_uid: 207618049
    }
  }
  event {
    name: "Merge_Query/14"
    sql {
      session: "instances/default/databases/db22/sessions/Cj1iKobFlHIjFAAFmyl3O7-THtK7-TS4hiAm_v9p0ablflCYr9WEbYn0QSEVHUPKxTdHd7OxkQh5CPryVaIjEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099534696449
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 207618049
      split_id: 14079378335067013123
      tablet_uid: 207618049
    }
  }
}
test_case {
  name: "MixedQueryShapes"
  event {
    name: "MixedQueryShapes/0"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key = \'0\'"
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099549376513
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            value {
              string_value: "0"
            }
          }
        }
      }
    }
  }
  event {
    name: "MixedQueryShapes/2"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key = \'0\'"
    }
    hint {
      operation_uid: 1
      database_id: 1099549376513
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099549376513
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 298844161
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\327\014\177\223"
      }
      group {
        group_uid: 298844161
        tablets {
          tablet_uid: 298844161
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001\222"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\021\320\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MixedQueryShapes/4"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key = \'0\'"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099549376513
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 298844161
      split_id: 14079378335067013120
      tablet_uid: 298844161
    }
  }
  event {
    name: "MixedQueryShapes/5"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1 FROM T WHERE Key = \'0\'"
    }
    hint {
      operation_uid: 2
      database_id: 1099549376513
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099549376513
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 2
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            value {
              string_value: "0"
            }
          }
        }
      }
    }
  }
  event {
    name: "MixedQueryShapes/7"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1 FROM T WHERE Key = \'0\'"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 2
      database_id: 1099549376513
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 298844161
      split_id: 14079378335067013120
      tablet_uid: 298844161
    }
  }
  event {
    name: "MixedQueryShapes/8"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = \'0_0\'"
    }
    hint {
      operation_uid: 3
      database_id: 1099549376513
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099549376513
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 3
          part {
            tag: 50020
          }
          part {
            tag: 2
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            value {
              string_value: "0_0"
            }
          }
        }
      }
    }
  }
  event {
    name: "MixedQueryShapes/10"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=GlobalIndex} WHERE V0 = \'0_0\'"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 3
      database_id: 1099549376513
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 298844161
      split_id: 14079378335067013120
      tablet_uid: 298844161
    }
  }
  event {
    name: "MixedQueryShapes/11"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = \'0\' AND Key2 = 1"
    }
    hint {
      operation_uid: 4
      database_id: 1099549376513
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099549376513
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 4
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            value {
              string_value: "0"
            }
          }
        }
      }
    }
  }
  event {
    name: "MixedQueryShapes/13"
    sql {
      session: "instances/default/databases/db35/sessions/Cj1r5FdH5G6JlOfKUeNpQyDVAAIHtV3iukgB0FHLjQk9hiuK_K0e4iIsIE2ujs9fpktU9gs73sMb09dyQaxzEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, Key2, V4 FROM Interleaved WHERE Key = \'0\' AND Key2 = 1"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 4
      database_id: 1099549376513
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 298844161
      split_id: 14079378335067013120
      tablet_uid: 298844161
    }
  }
}
test_case {
  name: "MixedReadShapes"
  event {
    name: "MixedReadShapes/0"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099529453569
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "MixedReadShapes/2"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099529453569
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 167772161
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\030\004\243"
      }
      group {
        group_uid: 167772161
        tablets {
          tablet_uid: 167772161
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\277"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MixedReadShapes/4"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 167772161
      split_id: 14079378335067013120
      tablet_uid: 167772161
    }
  }
  event {
    cache_update {
      database_id: 1099529453569
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 167772161
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\032\370j"
      }
      group {
        group_uid: 167772161
        tablets {
          tablet_uid: 167772161
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\277"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MixedReadShapes/6"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 167772161
      split_id: 14079378335067013120
      tablet_uid: 167772161
    }
  }
  event {
    name: "MixedReadShapes/7"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 167772161
      split_id: 14079378335067013120
      tablet_uid: 167772161
    }
  }
  event {
    name: "MixedReadShapes/8"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    hint {
      operation_uid: 3
      database_id: 1099529453569
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099529453569
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          index_name: "GlobalIndex"
          part {
            tag: 50020
          }
          part {
            tag: 2
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "V0"
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "MixedReadShapes/10"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      index: "GlobalIndex"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0_0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 3
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 167772161
      split_id: 14079378335067013120
      tablet_uid: 167772161
    }
  }
  event {
    name: "MixedReadShapes/11"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    hint {
      operation_uid: 4
      database_id: 1099529453569
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099529453569
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "Interleaved"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
          part {
            tag: 5
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: INT64
            }
            identifier: "Key2"
          }
        }
      }
    }
  }
  event {
    name: "MixedReadShapes/13"
    read {
      session: "instances/default/databases/db17/sessions/Cj11_K9Nwx32LGYbrWvyBBlWBUSPqjqsdLosEGdpzdOE2DuNonsyrDc4SAlBK3h5RDil8VD_xWE-0dpVmdBwEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "Interleaved"
      columns: "Key"
      columns: "Key2"
      columns: "V4"
      key_set {
        keys {
          values {
            string_value: "0"
          }
          values {
            string_value: "1"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 4
      database_id: 1099529453569
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 167772161
      split_id: 14079378335067013120
      tablet_uid: 167772161
    }
  }
}
test_case {
  name: "MultiPointQuery"
  event {
    name: "MultiPointQuery/0"
    sql {
      session: "instances/default/databases/db34/sessions/Cj1JEf_BWyeFh30JH_mbDYbGaUpAOVs2cu9NlDhT_gSLxCxvtNLzu5lDhZHUfV_f_IFjIiWfJp0YIuz9Rgk-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key IN (\'0\', \'1\', \'2\')"
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099548327937
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            value {
              string_value: "0"
            }
          }
        }
      }
    }
  }
  event {
    name: "MultiPointQuery/2"
    sql {
      session: "instances/default/databases/db34/sessions/Cj1JEf_BWyeFh30JH_mbDYbGaUpAOVs2cu9NlDhT_gSLxCxvtNLzu5lDhZHUfV_f_IFjIiWfJp0YIuz9Rgk-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key IN (\'0\', \'1\', \'2\')"
    }
    hint {
      operation_uid: 1
      database_id: 1099548327937
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099548327937
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 292552705
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\362\241\323"
      }
      group {
        group_uid: 292552705
        tablets {
          tablet_uid: 292552705
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001\214"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\021p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiPointQuery/4"
    sql {
      session: "instances/default/databases/db34/sessions/Cj1JEf_BWyeFh30JH_mbDYbGaUpAOVs2cu9NlDhT_gSLxCxvtNLzu5lDhZHUfV_f_IFjIiWfJp0YIuz9Rgk-EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key IN (\'0\', \'1\', \'2\')"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099548327937
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 292552705
      split_id: 14079378335067013120
      tablet_uid: 292552705
    }
  }
}
test_case {
  name: "MultiPointRead"
  event {
    name: "MultiPointRead/0"
    read {
      session: "instances/default/databases/db16/sessions/Cj1lBesOACZy5M0-XNPQK3sZKjFljpivNOp5UkVksA4i-P5_UszGIn1x3kLVQTGhWk3mC-vv0bTwS-RhC6JqEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
        keys {
          values {
            string_value: "1"
          }
        }
        keys {
          values {
            string_value: "2"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099528404993
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "MultiPointRead/2"
    read {
      session: "instances/default/databases/db16/sessions/Cj1lBesOACZy5M0-XNPQK3sZKjFljpivNOp5UkVksA4i-P5_UszGIn1x3kLVQTGhWk3mC-vv0bTwS-RhC6JqEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
        keys {
          values {
            string_value: "1"
          }
        }
        keys {
          values {
            string_value: "2"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099528404993
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2312\000y"
    }
  }
  event {
    cache_update {
      database_id: 1099528404993
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 161480705
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\0077\344"
      }
      group {
        group_uid: 161480705
        tablets {
          tablet_uid: 161480705
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\272"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiPointRead/4"
    read {
      session: "instances/default/databases/db16/sessions/Cj1lBesOACZy5M0-XNPQK3sZKjFljpivNOp5UkVksA4i-P5_UszGIn1x3kLVQTGhWk3mC-vv0bTwS-RhC6JqEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
        keys {
          values {
            string_value: "1"
          }
        }
        keys {
          values {
            string_value: "2"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099528404993
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 161480705
      split_id: 14079378335067013120
      tablet_uid: 161480705
    }
  }
  event {
    cache_update {
      database_id: 1099528404993
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 161480705
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\010?\""
      }
      group {
        group_uid: 161480705
        tablets {
          tablet_uid: 161480705
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\272"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiPointRead/6"
    read {
      session: "instances/default/databases/db16/sessions/Cj1lBesOACZy5M0-XNPQK3sZKjFljpivNOp5UkVksA4i-P5_UszGIn1x3kLVQTGhWk3mC-vv0bTwS-RhC6JqEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
        keys {
          values {
            string_value: "1"
          }
        }
        keys {
          values {
            string_value: "2"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099528404993
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 161480705
      split_id: 14079378335067013120
      tablet_uid: 161480705
    }
  }
  event {
    cache_update {
      database_id: 1099528404993
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 161480705
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\010?\""
      }
      group {
        group_uid: 161480705
        tablets {
          tablet_uid: 161480705
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\272"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t\240\000\001"
      }
      key_recipes {
      }
    }
  }
}
test_case {
  name: "MultiSplitRangeQuery"
  event {
    name: "MultiSplitRangeQuery/0"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099545182209
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "start"
          }
        }
      }
    }
  }
  event {
    name: "MultiSplitRangeQuery/2"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099545182209
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099545182209
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 269484033
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\207\216s"
      }
      group {
        group_uid: 269484033
        tablets {
          tablet_uid: 269484033
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001w"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020\020\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeQuery/4"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099545182209
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 269484033
      split_id: 14079378335067013120
      tablet_uid: 269484033
    }
  }
  event {
    cache_update {
      database_id: 1099545182209
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 269484033
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326\207\216s"
      }
      group {
        group_uid: 269484033
        tablets {
          tablet_uid: 269484033
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001w"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020\020\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeQuery/6"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099545182209
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 269484033
      split_id: 14079378335067013120
      tablet_uid: 269484033
    }
  }
  event {
    name: "MultiSplitRangeQuery/7"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099545182209
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 269484033
      split_id: 14079378335067013120
      tablet_uid: 269484033
    }
  }
  event {
    cache_update {
      database_id: 1099545182209
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 275775489
        split_id: 14079378335067013121
        generation: "\007\006C\314\326\232H-\007\006C\314\326\232O\315"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 276824065
        split_id: 14079378335067013121
        generation: "\007\006C\314\326\232H-\007\006C\314\326\232O\315"
      }
      group {
        group_uid: 275775489
        tablets {
          tablet_uid: 275775489
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001}"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020p\000\001"
      }
      group {
        group_uid: 276824065
        tablets {
          tablet_uid: 276824065
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001|"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\020\200\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeQuery/9"
    sql {
      session: "instances/default/databases/db31/sessions/Cj26cAs4RD17PnwartOnEP5weRuWeJiGsWyw0p_woAWpI-qkh_vsgPdD99_nQRZyD9Ysr_UQGP1_b5NtZb-OEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099545182209
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2311\000x"
      group_uid: 275775489
      split_id: 14079378335067013121
      tablet_uid: 275775489
    }
  }
}
test_case {
  name: "MultiSplitRangeRead"
  event {
    name: "MultiSplitRangeRead/0"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/2"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2315\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 146800641
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\324\266i"
      }
      group {
        group_uid: 146800641
        tablets {
          tablet_uid: 146800641
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\252"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/4"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 146800641
      split_id: 14079378335067013120
      tablet_uid: 146800641
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 146800641
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\327j\374"
      }
      group {
        group_uid: 146800641
        tablets {
          tablet_uid: 146800641
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\252"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/6"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 146800641
      split_id: 14079378335067013120
      tablet_uid: 146800641
    }
  }
  event {
    name: "MultiSplitRangeRead/7"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 146800641
      split_id: 14079378335067013120
      tablet_uid: 146800641
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 153092097
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 154140673
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      group {
        group_uid: 153092097
        tablets {
          tablet_uid: 153092097
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\260"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t \000\001"
      }
      group {
        group_uid: 154140673
        tablets {
          tablet_uid: 154140673
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\261"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t0\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/9"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2315\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 153092097
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 154140673
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      group {
        group_uid: 153092097
        tablets {
          tablet_uid: 153092097
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\260"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t \000\001"
      }
      group {
        group_uid: 154140673
        tablets {
          tablet_uid: 154140673
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\261"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t0\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/11"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2315\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 153092097
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 154140673
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      group {
        group_uid: 153092097
        tablets {
          tablet_uid: 153092097
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\260"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t \000\001"
      }
      group {
        group_uid: 154140673
        tablets {
          tablet_uid: 154140673
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\261"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t0\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "MultiSplitRangeRead/13"
    read {
      session: "instances/default/databases/db14/sessions/Cj0o3nR5UFrOZg2SHTIXxry6YlztuIUCKChW73CDnur1iUntENeOIUCLJi1ON9ym2fIzfYOB0G4apCR5I4YQEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099526307841
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2315\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099526307841
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 153092097
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 154140673
        split_id: 14079378335067013121
        generation: "\007\006C\314\317\345k\007\007\006C\314\317\345|{"
      }
      group {
        group_uid: 153092097
        tablets {
          tablet_uid: 153092097
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\260"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t \000\001"
      }
      group {
        group_uid: 154140673
        tablets {
          tablet_uid: 154140673
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\261"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\t0\000\001"
      }
      key_recipes {
      }
    }
  }
}
test_case {
  name: "PointQuery_MoveTablet"
  event {
    name: "PointQuery_MoveTablet/0"
    sql {
      session: "instances/default/databases/db20/sessions/Cj1N8sQ1mMXNR1g4jxOmUpJctw82dg0KcXzxZYKPIRwWsXqu0bhbi4E-_sLxODFwo_lYyhRy9bB8xBjMbn6MEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099532599297
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "PointQuery_MoveTablet/2"
    sql {
      session: "instances/default/databases/db20/sessions/Cj1N8sQ1mMXNR1g4jxOmUpJctw82dg0KcXzxZYKPIRwWsXqu0bhbi4E-_sLxODFwo_lYyhRy9bB8xBjMbn6MEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099532599297
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099532599297
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 188743681
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320r\274\204"
      }
      group {
        group_uid: 188743681
        tablets {
          tablet_uid: 188743681
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\323"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\013@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_MoveTablet/4"
    sql {
      session: "instances/default/databases/db20/sessions/Cj1N8sQ1mMXNR1g4jxOmUpJctw82dg0KcXzxZYKPIRwWsXqu0bhbi4E-_sLxODFwo_lYyhRy9bB8xBjMbn6MEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099532599297
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 188743681
      split_id: 14079378335067013120
      tablet_uid: 188743681
    }
  }
  event {
    cache_update {
      database_id: 1099532599297
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 188743681
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320x\255_"
      }
      group {
        group_uid: 188743681
        tablets {
          tablet_uid: 188743681
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\323"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\013@\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_MoveTablet/6"
    sql {
      session: "instances/default/databases/db20/sessions/Cj1N8sQ1mMXNR1g4jxOmUpJctw82dg0KcXzxZYKPIRwWsXqu0bhbi4E-_sLxODFwo_lYyhRy9bB8xBjMbn6MEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099532599297
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 188743681
      split_id: 14079378335067013120
      tablet_uid: 188743681
    }
  }
  event {
    name: "PointQuery_MoveTablet/7"
    sql {
      session: "instances/default/databases/db20/sessions/Cj1N8sQ1mMXNR1g4jxOmUpJctw82dg0KcXzxZYKPIRwWsXqu0bhbi4E-_sLxODFwo_lYyhRy9bB8xBjMbn6MEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099532599297
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 188743681
      split_id: 14079378335067013120
      tablet_uid: 188743681
    }
  }
}
test_case {
  name: "PointQuery_Split"
  event {
    name: "PointQuery_Split/0"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099531550721
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "PointQuery_Split/2"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099531550721
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099531550721
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 180355073
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320Op\220"
      }
      group {
        group_uid: 180355073
        tablets {
          tablet_uid: 180355073
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\315"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_Split/4"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099531550721
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 180355073
      split_id: 14079378335067013120
      tablet_uid: 180355073
    }
  }
  event {
    cache_update {
      database_id: 1099531550721
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 180355073
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320Q}h"
      }
      group {
        group_uid: 180355073
        tablets {
          tablet_uid: 180355073
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\315"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n\300\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_Split/6"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099531550721
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 180355073
      split_id: 14079378335067013120
      tablet_uid: 180355073
    }
  }
  event {
    name: "PointQuery_Split/7"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099531550721
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 180355073
      split_id: 14079378335067013120
      tablet_uid: 180355073
    }
  }
  event {
    cache_update {
      database_id: 1099531550721
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 186646529
        split_id: 14079378335067013121
        generation: "\007\006C\314\320c\021\014\007\006C\314\320c\026\345"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 187695105
        split_id: 14079378335067013121
        generation: "\007\006C\314\320c\021\014\007\006C\314\320c\026\345"
      }
      group {
        group_uid: 186646529
        tablets {
          tablet_uid: 186646529
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\320"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\013 \000\001"
      }
      group {
        group_uid: 187695105
        tablets {
          tablet_uid: 187695105
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\321"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\0130\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_Split/9"
    sql {
      session: "instances/default/databases/db19/sessions/Cj2RvpMnHqQiSvRU_rl0CfvTHBYP-K9YWOZN0oPTqz_3o3UJkAV0kyMcVK_r3tClMWKYSJSK3tGn0llf-I56EO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099531550721
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2311\000x"
      group_uid: 186646529
      split_id: 14079378335067013121
      tablet_uid: 186646529
    }
  }
}
test_case {
  name: "PointQuery_StopServer"
  event {
    name: "PointQuery_StopServer/0"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099533647873
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "PointQuery_StopServer/2"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099533647873
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099533647873
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 195035137
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\223\232\214"
      }
      group {
        group_uid: 195035137
        tablets {
          tablet_uid: 195035137
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\331"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\013\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_StopServer/4"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099533647873
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 195035137
      split_id: 14079378335067013120
      tablet_uid: 195035137
    }
  }
  event {
    cache_update {
      database_id: 1099533647873
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 195035137
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\232\312r"
      }
      group {
        group_uid: 195035137
        tablets {
          tablet_uid: 195035137
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\331"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\013\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_StopServer/6"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099533647873
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 195035137
      split_id: 14079378335067013120
      tablet_uid: 195035137
    }
  }
  event {
    name: "PointQuery_StopServer/7"
    unhealthy_servers: "localhost:15100"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099533647873
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 195035137
      split_id: 14079378335067013120
      skipped_tablet_uid {
        tablet_uid: 195035137
        incarnation: "\001\331"
      }
      skipped_tablet_uid {
        tablet_uid: 195035137
        incarnation: "\001\331"
      }
    }
  }
  event {
    cache_update {
      database_id: 1099533647873
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 195035137
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\320\223\232\214"
      }
      group {
        group_uid: 195035137
        tablets {
          tablet_uid: 195035137
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001)"
        }
        generation: "\010\377\377\377\377\377\377\377\377\001\002\004\013\240\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointQuery_StopServer/9"
    sql {
      session: "instances/default/databases/db21/sessions/Cj2mLhhl2TEML6_S76tM9oTQnNZWOUYSYTbcM0g1a235ck_wOuvrssPXtj6kS89DUYK3B9sJwmp3MAtsd0rKEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099533647873
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 195035137
      split_id: 14079378335067013120
      tablet_uid: 195035137
    }
  }
}
test_case {
  name: "PointRead_Basic"
  event {
    name: "PointRead_Basic/0"
    read {
      session: "instances/default/databases/db1/sessions/Cj2dgaSCS1TIcsY03_rLwNkT4bcSD0rl96ymOmEs6St0gocLKdJ13KOcTUAr0hZzE7UgcFAH_pgoeDLs-gevEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099511627777
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "PointRead_Basic/2"
    read {
      session: "instances/default/databases/db1/sessions/Cj2dgaSCS1TIcsY03_rLwNkT4bcSD0rl96ymOmEs6St0gocLKdJ13KOcTUAr0hZzE7UgcFAH_pgoeDLs-gevEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099511627777
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099511627777
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 51380225
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\312\266\333\267"
      }
      group {
        group_uid: 51380225
        tablets {
          tablet_uid: 51380225
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\0014"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003\020\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_Basic/4"
    read {
      session: "instances/default/databases/db1/sessions/Cj2dgaSCS1TIcsY03_rLwNkT4bcSD0rl96ymOmEs6St0gocLKdJ13KOcTUAr0hZzE7UgcFAH_pgoeDLs-gevEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099511627777
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 51380225
      split_id: 14079378335067013120
      tablet_uid: 51380225
    }
  }
  event {
    name: "PointRead_Basic/5"
    read {
      session: "instances/default/databases/db1/sessions/Cj2dgaSCS1TIcsY03_rLwNkT4bcSD0rl96ymOmEs6St0gocLKdJ13KOcTUAr0hZzE7UgcFAH_pgoeDLs-gevEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099511627777
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 51380225
      split_id: 14079378335067013120
      tablet_uid: 51380225
    }
  }
  event {
    name: "PointRead_Basic/6"
    read {
      session: "instances/default/databases/db1/sessions/Cj2dgaSCS1TIcsY03_rLwNkT4bcSD0rl96ymOmEs6St0gocLKdJ13KOcTUAr0hZzE7UgcFAH_pgoeDLs-gevEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "99"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099511627777
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 51380225
      split_id: 14079378335067013120
      tablet_uid: 51380225
    }
  }
}
test_case {
  name: "PointRead_MoveTablet"
  event {
    name: "PointRead_MoveTablet/0"
    read {
      session: "instances/default/databases/db3/sessions/Cj1AKsB4f6xVAxSo5B5BEa_WQta60iwvkBhF0_CO2ES-1CICxfRMDL5FaiFDCdlVa22_VEiq4S9xZWRU6fJuEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099513724929
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "PointRead_MoveTablet/2"
    read {
      session: "instances/default/databases/db3/sessions/Cj1AKsB4f6xVAxSo5B5BEa_WQta60iwvkBhF0_CO2ES-1CICxfRMDL5FaiFDCdlVa22_VEiq4S9xZWRU6fJuEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099513724929
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099513724929
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 66060289
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\312\371S\230"
      }
      group {
        group_uid: 66060289
        tablets {
          tablet_uid: 66060289
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001B"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003\360\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_MoveTablet/4"
    read {
      session: "instances/default/databases/db3/sessions/Cj1AKsB4f6xVAxSo5B5BEa_WQta60iwvkBhF0_CO2ES-1CICxfRMDL5FaiFDCdlVa22_VEiq4S9xZWRU6fJuEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099513724929
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 66060289
      split_id: 14079378335067013120
      tablet_uid: 66060289
    }
  }
  event {
    cache_update {
      database_id: 1099513724929
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 66060289
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\312\377\310\024"
      }
      group {
        group_uid: 66060289
        tablets {
          tablet_uid: 66060289
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001B"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003\360\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_MoveTablet/6"
    read {
      session: "instances/default/databases/db3/sessions/Cj1AKsB4f6xVAxSo5B5BEa_WQta60iwvkBhF0_CO2ES-1CICxfRMDL5FaiFDCdlVa22_VEiq4S9xZWRU6fJuEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099513724929
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 66060289
      split_id: 14079378335067013120
      tablet_uid: 66060289
    }
  }
  event {
    name: "PointRead_MoveTablet/7"
    read {
      session: "instances/default/databases/db3/sessions/Cj1AKsB4f6xVAxSo5B5BEa_WQta60iwvkBhF0_CO2ES-1CICxfRMDL5FaiFDCdlVa22_VEiq4S9xZWRU6fJuEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099513724929
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 66060289
      split_id: 14079378335067013120
      tablet_uid: 66060289
    }
  }
}
test_case {
  name: "PointRead_Split"
  event {
    name: "PointRead_Split/0"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099512676353
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "PointRead_Split/2"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099512676353
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099512676353
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 57671681
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\312\320\311\201"
      }
      group {
        group_uid: 57671681
        tablets {
          tablet_uid: 57671681
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\0019"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_Split/4"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099512676353
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 57671681
      split_id: 14079378335067013120
      tablet_uid: 57671681
    }
  }
  event {
    cache_update {
      database_id: 1099512676353
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 57671681
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\312\325J\""
      }
      group {
        group_uid: 57671681
        tablets {
          tablet_uid: 57671681
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\0019"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_Split/6"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099512676353
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 57671681
      split_id: 14079378335067013120
      tablet_uid: 57671681
    }
  }
  event {
    name: "PointRead_Split/7"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099512676353
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 57671681
      split_id: 14079378335067013120
      tablet_uid: 57671681
    }
  }
  event {
    cache_update {
      database_id: 1099512676353
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 63963137
        split_id: 14079378335067013121
        generation: "\007\006C\314\312\346,\370\007\006C\314\312\346G\266"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 65011713
        split_id: 14079378335067013121
        generation: "\007\006C\314\312\346,\370\007\006C\314\312\346G\266"
      }
      group {
        group_uid: 63963137
        tablets {
          tablet_uid: 63963137
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001@"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003\320\000\001"
      }
      group {
        group_uid: 65011713
        tablets {
          tablet_uid: 65011713
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001?"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\003\340\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_Split/9"
    read {
      session: "instances/default/databases/db2/sessions/Cj0P1CjTc1r75lf93ktX0nFIilgWPzLMlGnWTx-ZrjQo0Gf7-8YTsxgLsq7TFigkRjfOoY7s-KBDYRGUBOhtEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099512676353
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\310\002\234\2311\000x"
      group_uid: 63963137
      split_id: 14079378335067013121
      tablet_uid: 63963137
    }
  }
}
test_case {
  name: "PointRead_StopServer"
  event {
    name: "PointRead_StopServer/0"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099514773505
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "PointRead_StopServer/2"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099514773505
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099514773505
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 72351745
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\313\027\337?"
      }
      group {
        group_uid: 72351745
        tablets {
          tablet_uid: 72351745
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001H"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\004P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_StopServer/4"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099514773505
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 72351745
      split_id: 14079378335067013120
      tablet_uid: 72351745
    }
  }
  event {
    cache_update {
      database_id: 1099514773505
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 72351745
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\313\030\343J"
      }
      group {
        group_uid: 72351745
        tablets {
          tablet_uid: 72351745
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001H"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\004P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_StopServer/6"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099514773505
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 72351745
      split_id: 14079378335067013120
      tablet_uid: 72351745
    }
  }
  event {
    name: "PointRead_StopServer/7"
    unhealthy_servers: "localhost:15100"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099514773505
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 72351745
      split_id: 14079378335067013120
      skipped_tablet_uid {
        tablet_uid: 72351745
        incarnation: "\001H"
      }
      skipped_tablet_uid {
        tablet_uid: 72351745
        incarnation: "\001H"
      }
    }
  }
  event {
    cache_update {
      database_id: 1099514773505
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 72351745
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\313\027\337?"
      }
      group {
        group_uid: 72351745
        tablets {
          tablet_uid: 72351745
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\001_"
        }
        generation: "\010\377\377\377\377\377\377\377\377\001\001\004\004P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "PointRead_StopServer/9"
    read {
      session: "instances/default/databases/db4/sessions/Cj06QaQcKhM5rNrSjoYJN6w9yW8QlrvlrAYbHThdJcgxiQOcxXv_urgbse66Ol2wnM36ddl7v6GMVjh0JXdJEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099514773505
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 72351745
      split_id: 14079378335067013120
      tablet_uid: 72351745
    }
  }
}
test_case {
  name: "Query_Basic"
  event {
    name: "Query_Basic/0"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099530502145
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "Query_Basic/2"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099530502145
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099530502145
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 174063617
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\3205D\321"
      }
      group {
        group_uid: 174063617
        tablets {
          tablet_uid: 174063617
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\304"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Query_Basic/4"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099530502145
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 174063617
      split_id: 14079378335067013120
      tablet_uid: 174063617
    }
  }
  event {
    cache_update {
      database_id: 1099530502145
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 174063617
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\3207\336\354"
      }
      group {
        group_uid: 174063617
        tablets {
          tablet_uid: 174063617
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\304"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\n`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Query_Basic/6"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099530502145
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 174063617
      split_id: 14079378335067013120
      tablet_uid: 174063617
    }
  }
  event {
    name: "Query_Basic/7"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "6"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099530502145
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 174063617
      split_id: 14079378335067013120
      tablet_uid: 174063617
    }
  }
  event {
    name: "Query_Basic/8"
    sql {
      session: "instances/default/databases/db18/sessions/Cj0AhIB1FQZ0mpfUyRe4RAdNeLsy8_3N0l6G0SYbTQH9L4Mo6SAJCEW0asR2_0Y2B_x-EQH5q3LXC8IqY_UUEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "99"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099530502145
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 174063617
      split_id: 14079378335067013120
      tablet_uid: 174063617
    }
  }
}
test_case {
  name: "Queryroot"
  event {
    name: "Queryroot/0"
    sql {
      session: "instances/default/databases/db36/sessions/Cj1-3deMwlMPSU3TUZjwEiTnCEx6ntNH_PgS62Q5Uq5SIJ7I3nvRImR3DuycWYdHyu_aL5pq9cpaUDBf3csWEO_3ts7M-ZAD"
      sql: "SELECT TEXT_FINGERPRINT, TEXT, FROM SPANNER_SYS.OLDEST_ACTIVE_QUERIES"
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099550425089
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50016
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NOT_NULL
            type {
              code: INT64
            }
            value {
              string_value: "0"
            }
          }
        }
      }
    }
  }
  event {
    name: "Queryroot/2"
    sql {
      session: "instances/default/databases/db36/sessions/Cj1-3deMwlMPSU3TUZjwEiTnCEx6ntNH_PgS62Q5Uq5SIJ7I3nvRImR3DuycWYdHyu_aL5pq9cpaUDBf3csWEO_3ts7M-ZAD"
      sql: "SELECT TEXT_FINGERPRINT, TEXT, FROM SPANNER_SYS.OLDEST_ACTIVE_QUERIES"
    }
    hint {
      operation_uid: 1
      database_id: 1099550425089
      schema_generation: "\001\001"
      key: "A\206\300\002\221\000"
    }
  }
  event {
    cache_update {
      database_id: 1099550425089
      range {
        start_key: "A\206\300"
        limit_key: "A\206\301"
        group_uid: 309329921
        split_id: 14078252435160170496
        generation: "\000\007\006C\314\3271\033z"
      }
      group {
        group_uid: 309329921
        tablets {
          tablet_uid: 309329921
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001\232"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\022p\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "Queryroot/4"
    sql {
      session: "instances/default/databases/db36/sessions/Cj1-3deMwlMPSU3TUZjwEiTnCEx6ntNH_PgS62Q5Uq5SIJ7I3nvRImR3DuycWYdHyu_aL5pq9cpaUDBf3csWEO_3ts7M-ZAD"
      sql: "SELECT TEXT_FINGERPRINT, TEXT, FROM SPANNER_SYS.OLDEST_ACTIVE_QUERIES"
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099550425089
      schema_generation: "\001\001"
      key: "A\206\300"
      limit_key: "A\206\301"
      group_uid: 309329921
      split_id: 14078252435160170496
      tablet_uid: 309329921
    }
  }
}
test_case {
  name: "RandomSplitQuery"
  event {
    name: "RandomSplitQuery/0"
    sql {
      session: "instances/default/databases/db33/sessions/Cjx4AhBshfE8Wz_DweJPRclYklWrtNOgZU6SOL_5EY-RxIkB0O1k8mYR1tr1pYqNnVlVPFTrl1kJd9_Ho9sQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=_BASE_TABLE} WHERE Key IN UNNEST(@keys)"
      params {
        fields {
          key: "keys"
          value {
            list_value {
              values {
                string_value: "0"
              }
              values {
                string_value: "1"
              }
              values {
                string_value: "2"
              }
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099547279361
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "keys"
          }
        }
      }
    }
  }
  event {
    name: "RandomSplitQuery/2"
    sql {
      session: "instances/default/databases/db33/sessions/Cjx4AhBshfE8Wz_DweJPRclYklWrtNOgZU6SOL_5EY-RxIkB0O1k8mYR1tr1pYqNnVlVPFTrl1kJd9_Ho9sQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=_BASE_TABLE} WHERE Key IN UNNEST(@keys)"
      params {
        fields {
          key: "keys"
          value {
            list_value {
              values {
                string_value: "0"
              }
              values {
                string_value: "1"
              }
              values {
                string_value: "2"
              }
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099547279361
      schema_generation: "\001\001"
      key: "A\206\310\002"
      limit_key: "A\206\310\003"
    }
  }
  event {
    cache_update {
      database_id: 1099547279361
      range {
        start_key: "A\206\310"
        limit_key: "A\206\310\002\234\2311\000x"
        group_uid: 290455553
        split_id: 14079378335067013121
        generation: "\007\006C\314\326\324z5\007\006C\314\326\325\300\240"
      }
      range {
        start_key: "A\206\310\002\234\2311\000x"
        limit_key: "A\206\311"
        group_uid: 291504129
        split_id: 14079378335067013121
        generation: "\007\006C\314\326\324z5\007\006C\314\326\325\300\240"
      }
      group {
        group_uid: 290455553
        tablets {
          tablet_uid: 290455553
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001\212"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\021P\000\001"
      }
      group {
        group_uid: 291504129
        tablets {
          tablet_uid: 291504129
          server_address: "localhost:15000"
          role: READ_WRITE
          incarnation: "\002\001\213"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\021`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "RandomSplitQuery/4"
    sql {
      session: "instances/default/databases/db33/sessions/Cjx4AhBshfE8Wz_DweJPRclYklWrtNOgZU6SOL_5EY-RxIkB0O1k8mYR1tr1pYqNnVlVPFTrl1kJd9_Ho9sQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T@{FORCE_INDEX=_BASE_TABLE} WHERE Key IN UNNEST(@keys)"
      params {
        fields {
          key: "keys"
          value {
            list_value {
              values {
                string_value: "0"
              }
              values {
                string_value: "1"
              }
              values {
                string_value: "2"
              }
            }
          }
        }
      }
    }
    server: "localhost:15000"
    hint {
      operation_uid: 1
      database_id: 1099547279361
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2311\000x"
      limit_key: "A\206\311"
      group_uid: 291504129
      split_id: 14079378335067013121
      tablet_uid: 291504129
    }
  }
}
test_case {
  name: "RangeQuery"
  event {
    name: "RangeQuery/0"
    sql {
      session: "instances/default/databases/db30/sessions/CjynQBcGQrjQeodWrxOhJQjQgAKxjCQ-leDzPdhgZW8QORrZibtwD7HWqz-U8RNelce3k2eYamxiIMIE2SQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099544133633
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "start"
          }
        }
      }
    }
  }
  event {
    name: "RangeQuery/2"
    sql {
      session: "instances/default/databases/db30/sessions/CjynQBcGQrjQeodWrxOhJQjQgAKxjCQ-leDzPdhgZW8QORrZibtwD7HWqz-U8RNelce3k2eYamxiIMIE2SQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099544133633
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099544133633
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 263192577
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326o/\274"
      }
      group {
        group_uid: 263192577
        tablets {
          tablet_uid: 263192577
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001q"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\017\260\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "RangeQuery/4"
    sql {
      session: "instances/default/databases/db30/sessions/CjynQBcGQrjQeodWrxOhJQjQgAKxjCQ-leDzPdhgZW8QORrZibtwD7HWqz-U8RNelce3k2eYamxiIMIE2SQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099544133633
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 263192577
      split_id: 14079378335067013120
      tablet_uid: 263192577
    }
  }
  event {
    cache_update {
      database_id: 1099544133633
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 263192577
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326s\202\243"
      }
      group {
        group_uid: 263192577
        tablets {
          tablet_uid: 263192577
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001q"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\017\260\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "RangeQuery/6"
    sql {
      session: "instances/default/databases/db30/sessions/CjynQBcGQrjQeodWrxOhJQjQgAKxjCQ-leDzPdhgZW8QORrZibtwD7HWqz-U8RNelce3k2eYamxiIMIE2SQQ7_e2zsz5kAM"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0 FROM T WHERE Key >= @start AND Key < @limit"
      params {
        fields {
          key: "limit"
          value {
            string_value: "5"
          }
        }
        fields {
          key: "start"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099544133633
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 263192577
      split_id: 14079378335067013120
      tablet_uid: 263192577
    }
  }
}
test_case {
  name: "RangeRead"
  event {
    name: "RangeRead/0"
    read {
      session: "instances/default/databases/db13/sessions/Cj3u91rLO503wDtURxIEP9XFEOjXODpgPD-THdCp1MX-LrLsBFNM7_IhP8F8Q3XzmyG1OGNoiDoCA0--eIvGEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099525259265
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "RangeRead/2"
    read {
      session: "instances/default/databases/db13/sessions/Cj3u91rLO503wDtURxIEP9XFEOjXODpgPD-THdCp1MX-LrLsBFNM7_IhP8F8Q3XzmyG1OGNoiDoCA0--eIvGEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099525259265
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
      limit_key: "A\206\310\002\234\2315\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099525259265
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 140509185
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\270\342\357"
      }
      group {
        group_uid: 140509185
        tablets {
          tablet_uid: 140509185
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\244"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "RangeRead/4"
    read {
      session: "instances/default/databases/db13/sessions/Cj3u91rLO503wDtURxIEP9XFEOjXODpgPD-THdCp1MX-LrLsBFNM7_IhP8F8Q3XzmyG1OGNoiDoCA0--eIvGEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099525259265
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 140509185
      split_id: 14079378335067013120
      tablet_uid: 140509185
    }
  }
  event {
    cache_update {
      database_id: 1099525259265
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 140509185
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317\270\342\357"
      }
      group {
        group_uid: 140509185
        tablets {
          tablet_uid: 140509185
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\244"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010`\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "RangeRead/6"
    read {
      session: "instances/default/databases/db13/sessions/Cj3u91rLO503wDtURxIEP9XFEOjXODpgPD-THdCp1MX-LrLsBFNM7_IhP8F8Q3XzmyG1OGNoiDoCA0--eIvGEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      key_set {
        ranges {
          start_closed {
            values {
              string_value: "0"
            }
          }
          end_open {
            values {
              string_value: "5"
            }
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099525259265
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 140509185
      split_id: 14079378335067013120
      tablet_uid: 140509185
    }
  }
}
test_case {
  name: "SchemaChange"
  event {
    name: "SchemaChange/0"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099524210689
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          table_name: "T"
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "Key"
          }
        }
      }
    }
  }
  event {
    name: "SchemaChange/2"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099524210689
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099524210689
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 134217729
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317k\222^"
      }
      group {
        group_uid: 134217729
        tablets {
          tablet_uid: 134217729
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\236"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "SchemaChange/4"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099524210689
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 134217729
      split_id: 14079378335067013120
      tablet_uid: 134217729
    }
  }
  event {
    cache_update {
      database_id: 1099524210689
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 134217729
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\317m\306\322"
      }
      group {
        group_uid: 134217729
        tablets {
          tablet_uid: 134217729
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\001\236"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\010\000\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "SchemaChange/6"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099524210689
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 134217729
      split_id: 14079378335067013120
      tablet_uid: 134217729
    }
  }
  event {
    name: "SchemaChange/7"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      columns: "V2"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099524210689
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 134217729
      split_id: 14079378335067013120
      tablet_uid: 134217729
    }
  }
  event {
    name: "SchemaChange/8"
    read {
      session: "instances/default/databases/db12/sessions/Cj3nfoJOAt2jL0sglk3NLsu54-3zpWp6CnodAvXgomtqQPO2naJaUHeFEOSVQCkj2_dfxCCOBf7YIL6QQT2eEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      table: "T"
      columns: "Key"
      columns: "V0"
      columns: "V1"
      key_set {
        keys {
          values {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099524210689
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 134217729
      split_id: 14079378335067013120
      tablet_uid: 134217729
    }
  }
}
test_case {
  name: "SchemaChange_Query"
  event {
    name: "SchemaChange_Query/0"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
    }
  }
  event {
    cache_update {
      database_id: 1099543085057
      key_recipes {
        schema_generation: "\001\001"
        recipe {
          operation_uid: 1
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "SchemaChange_Query/2"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 1
      database_id: 1099543085057
      schema_generation: "\001\001"
      key: "A\206\310\002\234\2310\000x"
    }
  }
  event {
    cache_update {
      database_id: 1099543085057
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 256901121
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326)\373>"
      }
      group {
        group_uid: 256901121
        tablets {
          tablet_uid: 256901121
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001k"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\017P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "SchemaChange_Query/4"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099543085057
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 256901121
      split_id: 14079378335067013120
      tablet_uid: 256901121
    }
  }
  event {
    cache_update {
      database_id: 1099543085057
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 256901121
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326+\204M"
      }
      group {
        group_uid: 256901121
        tablets {
          tablet_uid: 256901121
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001k"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\017P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "SchemaChange_Query/6"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099543085057
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 256901121
      split_id: 14079378335067013120
      tablet_uid: 256901121
    }
  }
  event {
    name: "SchemaChange_Query/7"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1, V2 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 1
      database_id: 1099543085057
      schema_generation: "\001\001"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 256901121
      split_id: 14079378335067013120
      tablet_uid: 256901121
    }
  }
  event {
    name: "SchemaChange_Query/8"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    hint {
      operation_uid: 2
      database_id: 1099543085057
      schema_generation: "\001\001"
    }
  }
  event {
    cache_update {
      database_id: 1099543085057
      key_recipes {
        schema_generation: "\001\002"
        recipe {
          operation_uid: 2
          part {
            tag: 50020
          }
          part {
            tag: 1
          }
          part {
            order: ASCENDING
            null_order: NULLS_FIRST
            type {
              code: STRING
            }
            identifier: "key"
          }
        }
      }
    }
  }
  event {
    name: "SchemaChange_Query/10"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099543085057
      schema_generation: "\001\002"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 256901121
      split_id: 14079378335067013120
      tablet_uid: 256901121
    }
  }
  event {
    cache_update {
      database_id: 1099543085057
      range {
        start_key: "A\206\310"
        limit_key: "A\206\311"
        group_uid: 256901121
        split_id: 14079378335067013120
        generation: "\000\007\006C\314\326+\204M"
      }
      group {
        group_uid: 256901121
        tablets {
          tablet_uid: 256901121
          server_address: "localhost:15100"
          role: READ_WRITE
          incarnation: "\002\001k"
        }
        generation: "\010\377\377\377\377\377\377\377\377\000\004\017P\000\001"
      }
      key_recipes {
      }
    }
  }
  event {
    name: "SchemaChange_Query/12"
    sql {
      session: "instances/default/databases/db29/sessions/Cj3q6mix4HEACSTV7qfn-anCj6i3qJoPhAU9-97hUwZ_mBPgNQF9vRPFpH5onCRy5ZxWf8FuDJlYvcD-53bMEO_3ts7M-ZAD"
      transaction {
        single_use {
          read_only {
            strong: true
          }
        }
      }
      sql: "SELECT Key, V0, V1 FROM T WHERE Key = @key"
      params {
        fields {
          key: "key"
          value {
            string_value: "0"
          }
        }
      }
    }
    server: "localhost:15100"
    hint {
      operation_uid: 2
      database_id: 1099543085057
      schema_generation: "\001\002"
      key: "A\206\310"
      limit_key: "A\206\311"
      group_uid: 256901121
      split_id: 14079378335067013120
      tablet_uid: 256901121
    }
  }
}
